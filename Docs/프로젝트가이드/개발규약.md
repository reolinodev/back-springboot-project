## # 개발규약

####1. Git 커밋시 불필요한 파일은 ignore 해주세요. <br/>
.idea <br/>
node_modules <br/>
package-lock.json <br/>
은 커밋하지 않습니다.

<hr/>

####2. 유용한 주석만 남기세요.
사용했다가 요건 변경으로 인해 사용하지 않는 경우 주석으로 남기지 말고 그냥 삭제하세요. <br/>
또 console.log, log, system.out.println은 개발 완료 후 에는 삭제 해줍니다.<br/>
반면에 복잡한 로직인 경우에 간략한 내용은 넣어줍니다. 쿼리에는 원할한 디버깅을 위해
실행 메소드를 적어줍니다.

<hr/>

####3. validation은 최대한 백엔드에서 제공
스프링의 validation의 기능을 최대한 활용해서 백엔드에서 체크해줍니다. 널체크, 컬럼 사이즈, 데이터 유형(ex. 이메일 유형 둥)
을 가급적 백엔드에서 정의해줍니다.

<hr/>

####4. domain 규칙
도메인 파일은 테이블에 실제로 있는 컬럼을 넣어주고 엔티티 파일에는 해당 테이블에는 없지만 조인을 통해서 
불러올수 있는 파일을 넣어주고 extends 해서 사용합니다. mybatis에서 해당 도메인을 참조하려면
mybatis-config.xml에 정의 해줍니다.
```xml
<configuration>
  <typeAliases>
    <typeAlias type="com.back.admin.domain.UserEntity" alias="userEntity"/>
    <typeAlias type="com.back.admin.domain.LoginEntity" alias="loginEntity"/>
  </typeAliases>
</configuration>
```

<hr/>

####5. token 예외처리
현재 예외처리 대상

- 토큰 발급
- 프론트엔드 화면에서 셀렉트박스(검색형) 으로 사용하는 API (예 : 코드값)

추가로 예외처리를 처리해야 할 경우 Constants.java에 예외처리 부분에 도메인을 추가합니다.
```java
    public static final String[] permitAllArray = new String[] {
        "/",
        "/api/certification",
        "/api/item/**/**",
        "/api/item/**/**/**",
    };
```

<hr/>

####6. Controller 규약
- @Controller는 Controller, @RestController는 ControllerApi로 명명합니다.
- Controller에는 service단을 호출 하기전에 파라미터를 정제하고 클라이언트로 전달할 response를 정제해줍니다.
```java
    @GetMapping("/{user_id}")
    public ResponseEntity <Map<String,Object>> getUserData(@PathVariable String user_id, HttpServletRequest httpServletRequest) {
        LinkedHashMap <String,Object> responseMap = new LinkedHashMap<>();
        
        //서비스 단에 파라미터 전달
        User data = userService.getUserData(user_id);

        
        //클라이언트에 전달할 데이터를 정제해서 클라이언트에게 전달합니다.
        int count = 0;
        if (!"".equals(data.login_id)) count= 1;

        String message = count+"건이 조회되었습니다.";
        String code = "ok";

        responseMap.put("header", ResponseUtils.setHeader(message, code, httpServletRequest));
        responseMap.put("data", data);

        return new ResponseEntity<> (responseMap,  HttpStatus.OK);
    }
```
- http status는 RestAPI 규약 문서에 최대한 맞게 설정해주세요.
- 가급적 전체조회는 post, 상세조회는 get, 입력 및 수정은 put, 삭제는 delete로 request 맵핑을 설정합니다.
예외적인 경우에는 가급적 post를 사용해주세요.

<hr/>


####7. 테스트 코드를 최대한 활용
최소한으로 service, contoller 단위로 테스트 코드를 작성합니다. repository도 필요하다고 생각하면 작성하세요.
service 테스트 코드는 test 폴더 아래, contoller는 rest 폴더 아래 코드를 참조하세요.

<hr/>

